(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2939)}])},2939:function(e,t,n){"use strict";let r;n.r(t),n.d(t,{default:function(){return T}});var s=n(5893),a=n(7294),o=n(1163),l=n(6154),i=n(9367),u=n(1142),c=n.n(u),p=JSON.parse('{"P_":"http://localhost:8000/upload","Om":"ws://localhost:8000/event","H5":"http://localhost:8000/ping"}');p.H5;let f=p.Om,h=p.P_,x="token",d={},g=()=>{let e=new Date().getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"==n?r:7&r|8).toString(16)})},v=()=>(r||window&&(window.sessionStorage.getItem(x)||window.sessionStorage.setItem(x,g()),r=window.sessionStorage.getItem(x)),r),w=(e,t)=>{for(let n in t){let r=e,s=n.split(".").slice(1);for(;s.length>0;)r=r[s.shift()];for(let e in t[n])r[e]=t[n][e]}},m=async(e,t,n)=>{if("_redirect"==e.name)return t.push(e.payload.path),!1;if("_console"==e.name)return console.log(e.payload.message),!1;if("_alert"==e.name)return alert(e.payload.message),!1;if("_set_value"==e.name){let t=e.payload.ref in d?d[e.payload.ref]:e.payload.ref;return t.current.value=e.payload.value,!1}return e.token=v(),e.router_data=(e=>{let{pathname:t,query:n}=e;return{pathname:t,query:n}})(t),!!n&&(n.emit("event",JSON.stringify(e)),!0)},y=async(e,t,n)=>{"uploadFiles"==e.handler&&await b(t,n,e.name)},_=async(e,t,n,r,s,a)=>{if(n.processing||0==e.events.length)return;r({...n,processing:!0});let o=e.events.shift();if(t({...e,events:e.events}),o.handler)await y(o,e,r);else{let t=await m(o,s,a);t||r({...e,processing:!1})}},k=async(e,t,n,r,s,a,o)=>{let l=new URL(f);e.current=(0,i.ZP)(f,{path:l.pathname,transports:o,autoUnref:!1}),e.current.on("connect",()=>{_(t,n,r,s,a,e.current)}),e.current.on("event",function(e){w(t,(e=c().parse(e)).delta),s({processing:!0,state:t,events:e.events})})},b=async(e,t,n)=>{let r=e.files;if(0==r.length)return;let s={"Content-Type":r[0].type},a=new FormData;for(let e=0;e<r.length;e++)a.append("files",r[e],v()+":"+n+":"+r[e].name);await l.Z.post(h,a,s).then(n=>{let r=n.data;w(e,r.delta),t({processing:!1,state:e,events:r.events})})},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{name:e,payload:t,handler:n}},C=e=>{e&&e.preventDefault&&e.preventDefault()};n(5202);var S=n(2498),E=n(3100),N=n(204),P=n(3838),O=n(1664),D=n.n(O),I=n(9008),R=n.n(I);function T(){let[e,t]=(0,a.useState)({is_hydrated:!1,events:[{name:"state.hydrate"}],files:[]}),[n,r]=(0,a.useState)({state:null,events:[],processing:!1}),l=(0,o.useRouter)(),i=(0,a.useRef)(null),{isReady:u}=l,{colorMode:c,toggleColorMode:p}=(0,S.If)(),f=(0,a.useRef)(),h=(n,r)=>{C(r),t({...e,events:[...e.events,...n]})};return(0,a.useEffect)(()=>{if(!u)return;i.current||k(i,e,t,n,r,l,["websocket","polling"]);let s=async()=>{null!=n.state&&(t({...n.state,events:[...e.events,...n.events]}),r({state:null,events:[],processing:!1})),await _(e,t,n,r,l,i.current)};f.current&&f.current.focus(),s()}),(0,a.useEffect)(()=>{let e=()=>h([j("state.hydrate",{})]);return l.events.on("routeChangeComplete",e),()=>{l.events.off("routeChangeComplete",e)}},[l]),(0,s.jsxs)(E.xu,{sx:{backgroundColor:"rgb(0,0,0)",width:"100vw",height:"100vh"},children:[(0,s.jsx)(N.k,{children:(0,s.jsx)(D(),{href:"https://www.youtube.com",passHref:!0,children:(0,s.jsx)(P.r,{as:"span",sx:{color:"rgb(107,99,246)"},children:"youtube.com"})})}),(0,s.jsxs)(R(),{children:[(0,s.jsx)("title",{children:"Pynecone App"}),(0,s.jsx)("meta",{content:"A Pynecone app.",name:"description"}),(0,s.jsx)("meta",{content:"favicon.ico",property:"og:image"})]})]})}}},function(e){e.O(0,[404,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);